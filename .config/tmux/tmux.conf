##### Prefix (avoid conflict with your ctrl-heavy AeroSpace) #####
unbind C-b
set -g prefix C-a
bind C-a send-prefix

##### Quality of life #####
set -g mouse on

bind m run-shell '
if tmux show -gv mouse | grep -q on; then
  tmux set -g mouse off
  tmux display-message "mouse: OFF"
else
  tmux set -g mouse on
  tmux display-message "mouse: ON"
fi
'

##### Mouse wheel: make scrolling behave predictably #####
unbind -T root WheelUpPane
unbind -T root WheelDownPane
unbind -T root WheelUpStatus
unbind -T root WheelDownStatus

bind -T root WheelUpPane   if-shell -F '#{mouse}' 'copy-mode -e; send-keys -X halfpage-up'   ''
bind -T root WheelDownPane if-shell -F '#{mouse}' 'copy-mode -e; send-keys -X halfpage-down' ''

set -g history-limit 100000
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

bind r source-file "$HOME/.config/tmux/tmux.conf" \; display-message "tmux reloaded"

##### Clipboard (macOS) #####
set -g set-clipboard on
setw -g mode-keys vi
bind-key -T copy-mode-vi y send -X copy-pipe-and-cancel "pbcopy"

##### Splits (easy + memorable) #####
unbind '"'
unbind %
bind | split-window -h
bind - split-window -v

##### Seamless tmux ‚Üî Neovim navigation (prefix + hjkl) #####
bind h if-shell -F '#{m:^(n?vim|vim)$,#{pane_current_command}}' 'send-keys C-h' 'select-pane -L'
bind j if-shell -F '#{m:^(n?vim|vim)$,#{pane_current_command}}' 'send-keys C-j' 'select-pane -D'
bind k if-shell -F '#{m:^(n?vim|vim)$,#{pane_current_command}}' 'send-keys C-k' 'select-pane -U'
bind l if-shell -F '#{m:^(n?vim|vim)$,#{pane_current_command}}' 'send-keys C-l' 'select-pane -R'

##### Pane resizing (after prefix, repeatable) #####
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

##### Windows #####
bind c new-window
bind n next-window
bind p previous-window
bind , command-prompt -I "#W" "rename-window '%%'"

# Keep your manual names
setw -g automatic-rename off
set -g allow-rename off


##### Sessions (polish) #####
# Session switcher (tree view)
bind s choose-tree -Zs

# New named session (prompts for name)
bind S command-prompt -p "New session name:" "new-session -s '%%'"

# Rename current session
bind $ command-prompt -p "Rename session:" "rename-session '%%'"

# Quick detach
bind d detach-client


##### Core status bar #####
set -g status on
set -g status-position bottom
set -g status-interval 5

# Keep it simple + readable
set -g status-style "bg=default,fg=colour245"
set -g message-style "bg=default,fg=colour255"

##### Left: session name #####
set -g status-left-length 60
set -g status-left " #S "

##### Middle: window list (minimal) #####
setw -g window-status-separator "  "

# Inactive windows: index:name (+ zoom marker)
setw -g window-status-format "#[fg=colour244]#I:#W#{?window_zoomed_flag, üîç,}#[default]"

# Active window: emphasised (+ zoom marker)
setw -g window-status-current-format "#[fg=colour255,bold]#I:#W#{?window_zoomed_flag, üîç,}#[default]"

##### Right: small, useful context #####
set -g status-right-length 80
set -g status-right "#[fg=colour244]%Y-%m-%d %H:%M#[default]  #[fg=colour244]#H#[default] "


##### Neovim friendliness #####
# Helps with truecolor + avoids weird redraw issues
set -g default-terminal "tmux-256color"
set -as terminal-overrides ",*:Tc"

# Better interaction when switching panes / editor splits
set -g focus-events on

# Shorter escape time helps Vim/Tmux feel snappier
set -g escape-time 10
set -g repeat-time 500

















